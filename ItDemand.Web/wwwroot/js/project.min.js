function getParameterByName(n,t){t||(t=window.location.href);n=n.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),i=r.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}function updateBreadcrumb(n){$(".breadcrumb li.active").html(n)}function setActiveLink(n){$("#navigation a").removeClass("active");n.addClass("active")}function loadPartial(n,t,i){App.Dialogs.busyBox.show(t);fetch(n).then(function(n){return n.text()}).then(function(n){$("#project-details").html(n);typeof i=="function"&&i($(this))}).catch(function(n){alert("Something went wrong.",n)}).finally(function(){App.Dialogs.busyBox.hide()})}function loadChecklist(n){loadPartial("/Project/Checklist/"+n,"Loading checklist, Please wait...",function(){$.getScript("/js/checklist.js")});updateBreadcrumb($('#navigation a[href$="#checklist='+n+'"]').text())}function loadInformation(){const n=document.getElementById("projectPage").getAttribute("data-demandId");loadPartial("/Demand/DemandRequestForm/"+n,"Loading information page, Please wait...",function(){$.getScript("/js/demand-attachment.js");$.getScript("/js/demand-form.js");$.getScript("/js/plug-ins/jquery.dirtyforms.min.js");getParameterByName("showAttachmentTab")==="true"&&$("button#attachments-tab").tab("show")});updateBreadcrumb("Information")}function loadStatus(){const n=document.getElementById("projectPage").getAttribute("data-demandId");loadPartial("/Project/Status/"+n,"Loading status page, Please wait...",function(){$("#diagram").gateflow({url:"/Project/WorkflowData/"+n});$("#history").navtree({collapsed:!0})});updateBreadcrumb("Status")}function getRouteTokens(){var n=window.location.hash.slice(1);return $.deparam(n,!0)}$("#navigation").navtree({onNodeClicked:function(n){n.attr("target")!=="_blank"&&setActiveLink(n)}});const routes={status:function(){loadStatus()},checklist:function(n){loadChecklist(n.checklist)},information:function(){loadInformation()}};$(window).bind("hashchange",function(){const t=getRouteTokens(),i=Object.keys(t)[0];var n=i;n&&n.indexOf("?")>-1&&(n=i.substr(0,i.indexOf("?")));n===undefined||n===null?routes[Object.keys(routes)[0]](t):routes[n.toLowerCase()](t)});$(document).ready(function(){$(window).trigger("hashchange");document.referrer===""&&($('a[href="#status"]').removeClass("active"),$('a[href="'+window.location.hash+'"]').addClass("active"))}),function(n){var i,t;if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){try{i=require("jquery")}catch(r){}module.exports=n(i)}else if(typeof define=="function"&&define.amd)define(["jquery"],function(t){return n(t)});else{try{t=(!1||eval)("this")}catch(r){t=window}t.deparam=n(t.jQuery)}}(function(n){var t=function(n,t){var i={},r={"true":!0,"false":!1,"null":null};return n?(n.replace(/\+/g," ").split("&").forEach(function(n){var c=n.split("="),e=decodeURIComponent(c[0]),u,h=i,s=0,f=e.split("]["),o=f.length-1;if(/\[/.test(f[0])&&/\]$/.test(f[o])?(f[o]=f[o].replace(/\]$/,""),f=f.shift().split("[").concat(f),o=f.length-1):o=0,c.length===2)if(u=decodeURIComponent(c[1]),t&&(u=u&&!isNaN(u)&&+u+""===u?+u:u==="undefined"?undefined:r[u]!==undefined?r[u]:u),o)for(;s<=o;s++)e=f[s]===""?h.length:f[s],h=h[e]=s<o?h[e]||(f[s+1]&&isNaN(f[s+1])?{}:[]):u;else Object.prototype.toString.call(i[e])==="[object Array]"?i[e].push(u):i[e]={}.hasOwnProperty.call(i,e)?[i[e],u]:u;else e&&(i[e]=t?undefined:"")}),i):i};return n&&(n.prototype.deparam=n.deparam=t),t});